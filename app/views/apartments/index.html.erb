<%= content_for :stylesheet do %>
  <%= stylesheet_link_tag 'apartments', media: 'all', 'data-turbolinks-track': 'reload'  %>
<% end %>
<div id="main-page" class="Absolute-Center is-Responsive">
	<div class="container-fluid">
		<div class="row">
			<div class="col-md-12">
				<h1 class="head"> Welcome to Apartment Walker! </h1>
				<a class="btn btn-primary" id="logout" href="/logout">Logout</a>
			</div>
		</div>
		<div class="row" id="main-body">
			<div class="col-lg-4">
				<div class="jumbotron">
					<h2>Add a New Location!</h2>
					<input type="text" id="title" placeholder="Name of Location">
					<input type="textbox" id="address" placeholder="Address">
					<input type="button" id="submit" value="Submit" class="btn btn-primary">
					<br>
					<br>
					<h2>Places You've Added:</h2>
					<div id="my_apts">
						<ul>
						<% @my_apartments.each do |a| %>
							<li class="apt-name"><%= a.name %>:</li>
							<li>Walk Score: <%= a.walk_score %></li>
							<li><%= a.description %></li>
						<% end %>
						</ul>
					</div>
					<h2>Places Other's Have Added:</h2>
					<div id="other_apts">
						<ul>
						<% @apartments.each do |a| %>
							<li class="apt-name"><%= a.name %>:</li>
							<li>Walk Score: <%= a.walk_score %></li>
							<li><%= a.description %></li>
						<% end %>
						</ul>
					</div>
				</div>
			</div>
			<div class="col-lg-8">
				<div id="map" class="jumbotron">
				</div>
			</div>
		</div>
	</div>
</div>
<script>
	var locations = []
	
	<% @all.each do |t| %>
		locations.push({lat: <%= t.lat %>, lng: <%= t.lng %>, walk: <%= t.walk_score %>, title: "<%= t.name %>", desc: "<%= t.description %>"})
	<% end %>

</script>

<%= javascript_include_tag 'map', 'data-turbolinks-track': 'reload' %>

<script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAb7G1vXzcJ3e8VZpVfKCvQo41ggWFm9Yk&callback=initMap">
</script>
