function initMap(){for(var e,o={lat:47.67678,lng:-122.127355},t=new google.maps.Map(document.getElementById("map"),{zoom:11,center:o}),n=new google.maps.InfoWindow,a=0;a<locations.length;a++)e=new google.maps.Marker({position:new google.maps.LatLng(locations[a].lat,locations[a].lng),map:t}),e.content='<div id="score"><h1>'+locations[a].title+"</h1><br><h3> Walk Score: "+locations[a].walk+"<br>"+locations[a].desc+"</h3></div>",google.maps.event.addListener(e,"click",function(){n.setContent(this.content),n.open(this.getMap(),this)});var s=new google.maps.Geocoder;document.getElementById("submit").addEventListener("click",function(){geocodeAddress(s,t)})}function geocodeAddress(e,o){var t=document.getElementById("address").value,n=document.getElementById("title").value;e.geocode({address:t},function(e,t){if("OK"===t){o.setCenter(e[0].geometry.location);new google.maps.Marker({map:o,position:e[0].geometry.location});$.ajax({url:"/map",method:"post",data:{address:e[0].formatted_address,lat:e[0].geometry.location.lat(),lng:e[0].geometry.location.lng(),title:n},success:function(){console.log("Yes")}})}else alert("Geocode was not successful for the following reason: "+t)})}